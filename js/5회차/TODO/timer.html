<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        >
        <title>Countdown timer</title>
    </head>
    <body>

        <h1>카운트 다운</h1>
        <div id = "display">00:00:00:00</div>
        <div id = buttons>
            <button id = "start">시작</button>
            <button id = "stop">중지</button>
        </div>
        <script>
            const startBtn = document.getElementById("start");
            const stopBtn = document.getElementById("stop");
            const display = document.getElementById("display");
            // 기준시간 2024년 2월 10일
            const setTime = new Date(2024.1,10).getTime()

            function formatTime(time){
                // time unit: milliseconds
                let sec = Math.floor(time/1000)
                let min = Math.floor(sec/60)
                let hour = Math.floor(min/60)
                let days = Math.floor(hour/24)

                sec = sec % 60
                min = min % 60
                hour = hour % 24

                console.log(sec, min, hour, days)

                day = String(days).padStart(2,"0")
                hour = String(hour).padStart(2,"0")
                min = String(min).padStart(2, "0")
                sec = String(sec).padStart(2,"0")

                return `${days}일 ${hour}시간 ${min}분 ${sec}초 남았습니다.`
            }

            //console.log(formatTime(timeLeft))

            window.addEventListener("load",function(){
                countDown()
            })

            function countDown(){
                setInterval(function(){
                    let timeLeft = setTime - new Date().getTime();
                    display.innerText = formatTime(timeLeft)
                },1000);
            };

        </script>
    </body>
    </html>